{"version":3,"sources":["webpack:///./src/actions/data/userprofile/list/list.js","webpack:///./src/pages/data/userprofile/list/list.js"],"names":["toQueryString","obj","Object","keys","sort","map","key","val","Array","isArray","val2","encodeURIComponent","join","list","token","props","dispatch","fetch","os","method","mode","cache","headers","then","res","json","status","objectArr","i","data","v","k","console","log","push","type","payload","msg","alert","router","bind","leftNav","window","location","pathname","actionCreators","MonthPicker","RangePicker","dateFormat","monthFormat","SubMenu","Header","Content","Footer","Sider","FormItem","Item","Option","thunk","require","default","userProfile","start","load","done","value","searchData","text","fetching","options","d","columns","title","dataIndex","render","record","tableList","background","padding","margin","width","handleChange","marginTop","minHeight","Component","mapStateToProps","state","List","mapDispatchToProps","ownProps"],"mappings":"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","file":"0.js?3f9e8a46","sourcesContent":["\tfunction toQueryString(obj) {\n\t\treturn obj ? Object.keys(obj).sort().map(function(key) {\n\t\t\tvar val = obj[key];\n\t\t\tif (Array.isArray(val)) {\n\t\t\t\treturn val.sort().map(function(val2) {\n\t\t\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val2);\n\t\t\t\t}).join('&');\n\t\t\t}\n\t\t\treturn encodeURIComponent(key) + '=' + encodeURIComponent(val);\n\t\t}).join('&') : '';\n\t}\n\n\n\texport const list = (token, props) => {\n\n\t\treturn function(dispatch) {\n\t\t\tfetch(\"http://127.0.0.1:3001/user_profile_list?appCode=\" + props.os + \"&online=1\", {\n\t\t\t\tmethod: 'GET',\n\t\t\t\tmode: 'cors',\n\t\t\t\tcache: 'default',\n\t\t\t\theaders: {\n\t\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t\t\t\t'Authorization': 'Bearer ' + token\n\t\t\t\t}\n\n\t\t\t}).then(function(res) {\n\t\t\t\tres.json().then(res => {\n\t\t\t\t\tif (res.status) {\n\n\t\t\t\t\t\tvar objectArr = [];\n\t\t\t\t\t\tvar i = 0;\n\t\t\t\t\t\tres.data.map(function(v, k) {\n\t\t\t\t\t\t\tconsole.log(v, k);\n\t\t\t\t\t\t\tv.key = i++;\n\t\t\t\t\t\t\tobjectArr.push(v);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconsole.log(objectArr)\n\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: \"tableList\",\n\t\t\t\t\t\t\tpayload: objectArr\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (res.msg == -1) {\n\t\t\t\t\t\t\talert(-1);\n\t\t\t\t\t\t\tprops.router.push('/login');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}.bind(this));\n\t\t}.bind(this)\n\t};\n\n\n\texport const leftNav = (token, props) => {\n\n\t\treturn function(dispatch) {\n\t\t\tdispatch({\n\t\t\t\ttype: \"urlpa\",\n\t\t\t\tpayload: window.location.pathname\n\t\t\t})\n\n\t\t}.bind(this)\n\t}\n\n\n// WEBPACK FOOTER //\n// ./src/actions/data/userprofile/list/list.js","import React from 'react';\n\nimport {\n\tconnect\n} from 'react-redux';\n\nimport {\n\tRouter,\n\tRoute,\n\tIndexRoute,\n\tLink,\n\tIndexLink\n} from 'react-router';\n\nimport NavLink from '../../../../common/NavLink/navlink';\n\nimport {\n\tLayout,\n\tMenu,\n\tBreadcrumb,\n\tIcon,\n\tForm,\n\tButton,\n\tSelect,\n\tTable,\n\tDatePicker\n} from 'antd';\n\nimport moment from 'moment';\n\nimport NProgress from 'nprogress';\n\nconst {\n\tMonthPicker,\n\tRangePicker\n} = DatePicker;\n\nconst dateFormat = 'YYYY/MM/DD';\nconst monthFormat = 'YYYY/MM';\n\nconst {\n\tSubMenu\n} = Menu;\nconst {\n\tHeader,\n\tContent,\n\tFooter,\n\tSider\n} = Layout;\n\nconst FormItem = Form.Item;\nconst Option = Select.Option;\n\nimport {\n\tbindActionCreators\n} from 'redux'\n\nconst thunk = require('redux-thunk').default;\n\nimport cookie from 'react-cookies';\n\n// import * as actionCreators from './actions';\n\nimport * as actionCreators from '../../../../actions/data/userprofile/list/list.js';\n\n\nclass userProfile extends React.Component {\n\n\tconstructor(props) {\n\t\tsuper(props);\n\t}\n\n\tcomponentWillMount() {\n\t\tNProgress.start();\n\n\t\tvar token = cookie.load('token');\n\t\tif (token) {\n\t\t\tthis.props.list(token, this.props);\n\t\t} else {\n\t\t\tthis.props.router.push('/login');\n\t\t}\n\t}\n\n\tcomponentDidMount() {\n\t\tNProgress.done();\n\t}\n\n\thandleChange(value) {\n\t\t// console.log(value);\n\t}\n\n\trender() {\n\n\n\t\tvar searchData = [{\n\t\t\tvalue: 1,\n\t\t\ttext: \"qihong1\"\n\t\t}, {\n\t\t\tvalue: 2,\n\t\t\ttext: \"qihong2\"\n\t\t}];\n\n\t\tvar fetching = false;\n\n\t\tvar options = searchData.map(d => <Option key={d.text}>{d.text}</Option>);\n\n\n\n\t\tconst columns = [{\n\t\t\ttitle: '日期',\n\t\t\tdataIndex: 'date',\n\t\t\tkey: 'date',\n\t\t}, {\n\t\t\ttitle: '新增用户',\n\t\t\tdataIndex: 'newUsers',\n\t\t\tkey: 'newUsers',\n\t\t}, {\n\t\t\ttitle: '活跃用户',\n\t\t\tdataIndex: 'activeUser',\n\t\t\tkey: 'activeUser',\n\t\t}, {\n\t\t\ttitle: '操作',\n\t\t\tdataIndex: 'oprations',\n\t\t\tkey: 'oprations',\n\t\t\trender: (text, record) => (\n\t\t\t\t<Link to={{pathname: \"/data/userprofile/\"+record.key}} key={record.key} activeClassName=\"active\">编辑{record.key}</Link>\n\n\t\t\t),\n\t\t}];\n\n\n\t\t// console.log(this.props.tableList, 'this.props.list');\n\n\t\tvar tableList = this.props.tableList;\n\n\t\t// console.log(this.props, '###@@');\n\n\t\t// console.log(dataSource, '@@@##');\n\t\t// console.log(this.props, 'asdfasdfasdfas');\n\t\t// console.log(this.props.aReducer.list, 'this.props.aReducer.list');\n\n\n\t\treturn (\n\t\t\t<div>\n        <Content style={{ background: '#fff', padding: 24, margin: 0}}>\n          <Form layout=\"inline\">\n          \t<FormItem label=\"操作系统\">\n          \t\t<Select \n          \t\t\tplaceholder=\"Select a option and change input text above\" \n          \t\t\tdropdownMatchSelectWidth={true}  \n          \t\t\tdefaultValue=\"\"\n          \t\t\tstyle={{width:\"100px\"}}>\n\t          \t\t<Option value=\"\">全部</Option>\n\t\t            <Option value=\"24\">Android</Option>\n\t\t            <Option value=\"27\">iOS</Option>\n\t            </Select>\n          \t</FormItem>\n          \t<FormItem label=\"线上\\线下\">\n          \t\t<Select \n          \t\t\tplaceholder=\"Select a option and change input text above\" \n          \t\t\tdropdownMatchSelectWidth={true}\n          \t\t \tdefaultValue=\"\" \n          \t\t \tstyle={{width:'100px'}}>\n\t          \t\t<Option value=\"\">全部</Option>\n\t\t            <Option value=\"1\">线上</Option>\n\t\t            <Option value=\"2\">线下</Option>\n\t            </Select>\n          \t</FormItem>\n\n\t\t\t<FormItem label=\"渠道组\">\n          \t\t<Select \n          \t\t\tshowSearch={true}\n          \t\t\tplaceholder=\"搜索渠道组\" \n          \t\t\tdropdownMatchSelectWidth={true}\n          \t\t \tdefaultValue=\"\"\n          \t\t \tstyle={{width:'160px'}}\n          \t\t \toptionFilterProp=\"children\"\n          \t\t \tonChange={this.handleChange.bind(this)}>\n\t          \t\t<Option value=\"\">全部</Option>\n\t\t            <Option value=\"1\">samsung_total_news</Option>\n\t\t            <Option value=\"2\">kp_total_news</Option>\n\t\t            <Option value=\"3\">oppo_total_news</Option>\n\t            </Select>\n          \t</FormItem>\n\n\t\t\t<FormItem label=\"\">\n          \t\t<Select \n\t\t\t        mode=\"combobox\"\n\t\t\t        placeholder=\"搜索渠道名称\"\n\t\t\t        notFoundContent=\"\"\n\t\t\t        style={{width:\"100px\"}}\n\t\t\t        defaultActiveFirstOption={false}\n\t\t\t        showArrow={false}\n\t\t\t        filterOption={false}\n          \t\t >\n\t\t\t\t{options}\n\t            </Select>\n          \t</FormItem>\n\n\t\t\t<FormItem label=\"\" >\n\t          \t<RangePicker size=\"large\"\n\t\t\t      defaultValue={[moment('2015/01/01', dateFormat), moment('2015/01/01', dateFormat)]}\n\t\t\t      format={dateFormat}\n\t\t\t      style={{width:\"260px\"}}\n\t\t\t    />\n\t\t\t</FormItem>\n          \t <Button size=\"large\" type=\"primary\">查询</Button>\n\n          </Form>\n        </Content>\n\n\n        <Content style={{ background: '#fff', padding: \"24px\", margin: 24, marginTop:\"24px\", minHeight: 280 }}>\n          <Table dataSource={this.props.tableList} columns={columns} />\n        </Content>\n        </div>\n\t\t);\n\t}\n}\n\n\n//将state.counter绑定到props的counter\nconst mapStateToProps = (state) => {\n\n\tconsole.log(state, 'statestate');\n\treturn {\n\t\ttableList: state.userProfile.List.tableList,\n\t\tos: state.userProfile.List.os\n\t}\n};\n//将action的所有方法绑定到props上\nconst mapDispatchToProps = (dispatch, ownProps) => {\n\n\t//全量\n\treturn bindActionCreators(actionCreators, dispatch);\n\n\t// return {\n\t// \tinit: bindActionCreators({\n\t// \t\taddTodo\n\t// \t}, dispatch),\n\t// \tinit2: bindActionCreators({\n\t// \t\tinit2\n\t// \t}, dispatch)\n\t// }\n\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(userProfile);\n\n\n// WEBPACK FOOTER //\n// ./src/pages/data/userprofile/list/list.js"],"sourceRoot":""}